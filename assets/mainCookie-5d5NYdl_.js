import{a as i,b as p,_ as N}from"./logo-B-gLquYD.js";import{_ as S,r as c,c as y,a,b as s,w as t,o as u,d as _,e as f,f as m,n as I,t as B}from"./index-wBXUSLhW.js";const E={name:"App",data(){return{newTask:"",tasks:[],columns:[{title:"",key:"checkbox",width:"10%"},{title:"Task",dataIndex:"taskName",width:"70%"},{title:"",key:"delete",width:"20%",sorter:(e,o)=>e.done-o.done}],cookieData:"",cookieDataBeautified:""}},methods:{onCreateNewTask(){if(!this.newTask.trim()){i.error("Task cannot be empty!");return}const e={id:new Date().getTime(),taskName:this.newTask,done:!1};this.tasks=[e,...this.tasks],this.saveTasks(),this.newTask="",i.success("Task added successfully!")},onDeleteTask(e){this.tasks=this.tasks.filter(o=>o.id!==e),this.saveTasks(),i.success("Task deleted successfully!")},onTaskChange(){this.saveTasks()},saveTasks(){const e=JSON.stringify(this.tasks);p.set("tasks",e,{expires:365})},loadTasks(){try{const e=p.get("tasks");e&&(this.tasks=JSON.parse(e))}catch{i.error("Warning: Corrupted JSON data!"),this.tasks=[],p.set("tasks",this.tasks,{expires:365})}},setRowClassName(e){return e.done?"tableDone":"tableNotDone"},exportCookieData(){this.cookieData=p.get("tasks")||"",this.$nextTick(()=>{document.getElementById("cookieDataInput").select(),document.execCommand("copy"),i.info("Cookie Data copied to clipboard!")})},loadCookieData(){try{JSON.parse(this.cookieData),this.cookieData===""&&i.error("No cookie data to import!"),p.set("tasks",this.cookieData,{expires:365}),this.tasks=JSON.parse(this.cookieData),i.success("Cookie data imported!")}catch{i.error("Invalid JSON data!")}}},created(){this.loadTasks()}},J={class:"flex-container"},O={class:"flex-item"},U=a("img",{alt:"logo",class:"logo",src:N,width:"125",height:"125"},null,-1),z=a("div",{class:"flex-container-small"},[a("h1",null,"Todo List (Cookie mode) ‧₊˚ 🍪 ⋅ ☆ "),a("p",null,"Please note that the tasks will be saved in your browser cookies and will be deleted if you clear or eat your cookies. (๑ᵔ⤙ᵔ๑) ")],-1),A={class:"flex-item-small"},R={class:"flex-item-small"},V=a("span",{class:"drop-more-header-text"},"Advance option",-1),P={class:"flex-container-small cookieDataInput"},L=a("p",{class:"inputApiUrlLabel"},"Cookie Data",-1),W={class:"flex-item"},j=a("p",null," This will overwrite current task that you have!",-1),Y=a("p",null," Are you sure? ",-1),q={class:"flex-item taskTable"};function F(e,o,G,H,k,n){const h=c("a-space"),C=c("a-textarea"),d=c("a-button"),w=c("a-popconfirm"),x=c("a-collapse-panel"),T=c("a-collapse"),D=c("a-checkbox"),b=c("a-table");return u(),y("div",J,[a("div",O,[s(h,{align:"baseline",size:10},{default:t(()=>[U,z]),_:1})]),a("div",A,[s(h,{align:"center"},{default:t(()=>[s(C,{"auto-size":{minRows:1,maxRows:4},class:"inputTask",value:k.newTask,"onUpdate:value":o[0]||(o[0]=l=>k.newTask=l),placeholder:"What's on your mind?...",onPressEnter:n.onCreateNewTask},null,8,["value","onPressEnter"]),s(d,{type:"primary",onClick:n.onCreateNewTask},{default:t(()=>[_(" Create new task ")]),_:1},8,["onClick"])]),_:1})]),a("div",R,[s(T,{class:"drop-more-collapse"},{default:t(()=>[s(x,{key:"1","show-arrow":!1},{header:t(()=>[V]),default:t(()=>[a("div",P,[a("div",null,[L,s(C,{id:"cookieDataInput",class:"cookieDataInput",value:k.cookieData,"onUpdate:value":o[1]||(o[1]=l=>k.cookieData=l),placeholder:"Enter your json cookie...",rows:"10",cols:"50"},null,8,["value"])]),a("div",W,[s(h,{align:"baseline"},{default:t(()=>[s(d,{type:"primary",onClick:n.exportCookieData},{default:t(()=>[_("Export Date")]),_:1},8,["onClick"]),s(w,{placement:"rightTop","ok-text":"Yes","cancel-text":"No",onConfirm:n.loadCookieData},{title:t(()=>[j,Y]),default:t(()=>[s(d,null,{default:t(()=>[_("Import Cookie Data")]),_:1})]),_:1},8,["onConfirm"])]),_:1})])])]),_:1})]),_:1})]),a("div",q,[s(h,{align:"center"},{default:t(()=>[s(b,{dataSource:k.tasks,columns:k.columns,scroll:{x:576,y:900},pagination:{pageSize:5},rowClassName:n.setRowClassName},{bodyCell:t(({column:l,index:g,record:r})=>[l.key==="checkbox"?(u(),f(D,{key:0,checked:r.done,"onUpdate:checked":v=>r.done=v,onChange:n.onTaskChange},null,8,["checked","onUpdate:checked","onChange"])):m("",!0),l.key==="index"?(u(),y("span",{key:1,class:I({"line-through":r.done})},B(g+1),3)):m("",!0),l.key==="delete"&&r.done===!1?(u(),f(d,{key:2,block:"",onClick:()=>n.onDeleteTask(r.id),style:{"background-color":"#000",color:"white",border:"none"}},{default:t(()=>[_(" Delete? ")]),_:2},1032,["onClick"])):m("",!0),l.key==="delete"&&r.done===!0?(u(),f(d,{key:3,block:"",onClick:()=>n.onDeleteTask(r.id),style:{"background-color":"#ff5052",color:"white",border:"none"}},{default:t(()=>[_(" Delete ")]),_:2},1032,["onClick"])):m("",!0)]),_:1},8,["dataSource","columns","rowClassName"])]),_:1})])])}const Q=S(E,[["render",F]]);export{Q as default};
